{"version":3,"sources":["Components/Panel/Panel.module.css","Components/Display/Display.module.css","App.module.css","Components/Button/Button.module.css","Components/Display/Display.jsx","Components/Button/Button.jsx","Components/Panel/Panel.jsx","App.jsx","index.js"],"names":["module","exports","Display","value","result","onChangeValue","className","style","display","name","input","onChange","autoComplete","output","readOnly","Button","children","onClick","btnStyle","csn","button","btnOnClick","console","log","Panel","container","AC","xmlns","width","height","fill","d","operator","equally","App","useState","setValue","setResult","memory","setMemory","setOperator","useEffect","calc","string","toString","elements","split","pastResult","start","num","count","splice","multiply","index","Number","toFixed","divided","plus","minus","indexOf","join","length","isNaN","e","currentTarget","valueBtn","indexLastNum","lastNum","trim","slice","includes","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1ad9ad5c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Panel_container__3qzG0\",\"operator\":\"Panel_operator__1eZe-\",\"equally\":\"Panel_equally__3U5y2\",\"AC\":\"Panel_AC__3fRjW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Display_input__3ezxN\",\"output\":\"Display_output__3-_hT\",\"display\":\"Display_display__Blf1U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__3LsBH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__315f2\"};","import React from 'react';\nimport style from './Display.module.css';\n\nfunction Display({ value, result = 0, onChangeValue }) {\n  return (\n    <div className={style.display}>\n      <input\n        name=\"value\"\n        value={value}\n        className={style.input}\n        onChange={onChangeValue}\n        autoComplete=\"off\"\n      ></input>\n      <input\n        name=\"result\"\n        value={result}\n        className={style.output}\n        readOnly\n      ></input>\n    </div>\n  );\n}\n\nexport default Display;\n","import React from 'react';\nimport style from './Button.module.css';\nimport csn from 'classnames';\n\nfunction Button({ children, className = null, value, onClick }) {\n  // * миксуем стили\n  const btnStyle = csn({\n    [style.button]: true,\n    [className]: className && true,\n  });\n\n  const btnOnClick = value => {\n    // TODO проверяем есть ли значение\n    if (value || value === 0) {\n      onClick(value);\n      return;\n    }\n    console.log('нет значения');\n    return;\n  };\n\n  return (\n    <button className={btnStyle} onClick={() => btnOnClick(value)}>\n      {children}\n    </button>\n  );\n}\n\nexport default Button;\n","import Button from 'Components/Button/Button';\nimport React from 'react';\nimport style from './Panel.module.css';\n\nfunction Panel({ onClick }) {\n  return (\n    <div className={style.container}>\n      <Button value=\"AC\" className={style.AC} onClick={onClick}>\n        AC\n      </Button>\n      <Button value=\"delete\" onClick={onClick}>\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"34\" height=\"32\">\n          <path\n            fill=\"grey\"\n            d=\"M22.709 12.284a1.01 1.01 0 00-1.427 0l-2.3 2.297-2.239-2.237a1.001 1.001 0 00-1.416 1.414l2.239 2.237-2.268 2.266c-.394.394-.394 1.032 0 1.425s1.033.393 1.427 0l2.268-2.266 2.239 2.237a1.001 1.001 0 001.416-1.414l-2.239-2.237 2.3-2.297a1.007 1.007 0 000-1.425zm5.288-7.282H10.054c-.28-.017-.565.07-.78.283L.289 15.224a.99.99 0 00-.287.762.991.991 0 00.287.762l8.985 9.939c.196.194.451.29.707.293v.021h18.017a4.001 4.001 0 004.003-3.999V9.004c0-2.21-1.793-4-4.003-4zM29.998 23c0 1.104-.896 2-2.002 2H10.468l-8.149-9.014 8.121-8.983h17.556a2 2 0 012.002 2V23z\"\n          />\n        </svg>\n      </Button>\n      <Button value=\" % \" onClick={onClick}>\n        %\n      </Button>\n      <Button value=\" / \" className={style.operator} onClick={onClick}>\n        /\n      </Button>\n      <Button value={7} onClick={onClick}>\n        7\n      </Button>\n      <Button value={8} onClick={onClick}>\n        8\n      </Button>\n      <Button value={9} onClick={onClick}>\n        9\n      </Button>\n      <Button value=\" * \" className={style.operator} onClick={onClick}>\n        *\n      </Button>\n      <Button value={4} onClick={onClick}>\n        4\n      </Button>\n      <Button value={5} onClick={onClick}>\n        5\n      </Button>\n      <Button value={6} onClick={onClick}>\n        6\n      </Button>\n      <Button value=\" - \" className={style.operator} onClick={onClick}>\n        -\n      </Button>\n      <Button value={1} onClick={onClick}>\n        1\n      </Button>\n      <Button value={2} onClick={onClick}>\n        2\n      </Button>\n      <Button value={3} onClick={onClick}>\n        3\n      </Button>\n      <Button value=\" + \" className={style.operator} onClick={onClick}>\n        +\n      </Button>\n      <Button value=\".\" onClick={onClick}>\n        .\n      </Button>\n      <Button value={0} onClick={onClick}>\n        0\n      </Button>\n      <Button value=\"M+\" className={style.operator} onClick={onClick}>\n        M+\n      </Button>\n      <Button value=\"M-\" className={style.operator} onClick={onClick}>\n        M-\n      </Button>\n      <Button value=\"MR\" className={style.operator} onClick={onClick}>\n        MR\n      </Button>\n      <Button value=\"=\" className={style.equally} onClick={onClick}>\n        =\n      </Button>\n    </div>\n  );\n}\n\nexport default Panel;\n","import { useEffect, useState } from 'react';\nimport style from 'App.module.css';\nimport Display from 'Components/Display/Display';\nimport Panel from 'Components/Panel/Panel';\n\nfunction App() {\n  const [value, setValue] = useState(0);\n  const [result, setResult] = useState(0);\n  const [memory, setMemory] = useState(0);\n  const [operator, setOperator] = useState(false);\n\n  useEffect(() => {\n    const calc = function (string) {\n      console.log('🚀 ~ file: App.jsx ~ line 15 ~ calc ~ string', string);\n      if (typeof string === 'number') {\n        // ? если вместо строки числовое значение - преображаем в строку\n        string = string.toString();\n      }\n      let elements = string.split(' ');\n\n      const pastResult = (start, num, count = 3) => {\n        elements.splice(start, count, num);\n      };\n      const multiply = index => {\n        const result = (\n          Number(elements[index - 1]) * Number(elements[index + 1])\n        ).toFixed(10);\n        pastResult(index - 1, result);\n      };\n      const divided = index => {\n        const result = (\n          Number(elements[index - 1]) / Number(elements[index + 1])\n        ).toFixed(10);\n        pastResult(index - 1, result);\n      };\n      const plus = index => {\n        const result = (\n          Number(elements[index - 1]) + Number(elements[index + 1])\n        ).toFixed(10);\n        pastResult(index - 1, result);\n      };\n      const minus = index => {\n        const result = (\n          Number(elements[index - 1]) - Number(elements[index + 1])\n        ).toFixed(10);\n        pastResult(index - 1, result);\n      };\n\n      if (!elements) {\n        return;\n      }\n      // ? сначала идут операции деления и умножения\n      if (elements.indexOf('*') !== -1 && elements.indexOf('/') !== -1) {\n        // ? если присутствуют оба оператора смотрим который идет первым\n        if (elements.indexOf('/') < elements.indexOf('*')) {\n          divided(elements.indexOf('/'));\n          return calc(elements.join(' '));\n        }\n        if (elements.indexOf('*') < elements.indexOf('/')) {\n          multiply(elements.indexOf('*'));\n          return calc(elements.join(' '));\n        }\n      }\n      if (elements.indexOf('*') !== -1) {\n        multiply(elements.indexOf('*'));\n        return calc(elements.join(' '));\n      }\n      if (elements.indexOf('/') !== -1) {\n        divided(elements.indexOf('/'));\n        return calc(elements.join(' '));\n      }\n      // ? операции сложения и отнимания выполняются только после деления и умножения\n      if (elements.indexOf('+') !== -1 && elements.indexOf('-') !== -1) {\n        // ? если присутствуют оба оператора смотрим который идет первым\n        if (elements.indexOf('-') < elements.indexOf('+')) {\n          minus(elements.indexOf('-'));\n          return calc(elements.join(' '));\n        }\n        if (elements.indexOf('+') < elements.indexOf('-')) {\n          plus(elements.indexOf('+'));\n          return calc(elements.join(' '));\n        }\n      }\n      if (elements.indexOf('-') !== -1) {\n        minus(elements.indexOf('-'));\n        return calc(elements.join(' '));\n      }\n      if (elements.indexOf('+') !== -1) {\n        plus(elements.indexOf('+'));\n        return calc(elements.join(' '));\n      }\n      if (elements.length === 1) {\n        return Number(elements[0]);\n      }\n    };\n    const result = () => calc(value);\n    // ? если выражение заканчивается оператором - калькуляцию не проводим, так как в массиве будет пустой объект\n    if (!operator) {\n      // ? если результат калькуляции NaN - в результат не выводим\n      if (isNaN(result())) {\n        return;\n      }\n      setResult(result);\n      return;\n    }\n    return;\n  }, [value, operator]);\n\n  const onClick = valueBtn => {\n    const indexLastNum = value.toString().split(' ').length - 1;\n    const lastNum = value.toString().split(' ')[indexLastNum];\n    // ? присылаемое значение является числом\n    if (typeof valueBtn === 'number') {\n      // *если значение 0 перезапишем, а не добавляем\n      // Number(value) !== 0\n      //   ? setValue(value + valueBtn.toString())\n      //   : setValue(valueBtn);\n      lastNum === 0 || lastNum === '0'\n        ? setValue(valueBtn)\n        : setValue(value + valueBtn.toString());\n      setOperator(false);\n      return;\n    }\n    // ? присылаемое значение является оператором\n    if (valueBtn === ' + ') {\n      setOperator(true);\n      setValue(value + valueBtn);\n      return;\n    }\n    if (valueBtn === ' - ') {\n      setOperator(true);\n      setValue(value + valueBtn);\n      return;\n    }\n    if (valueBtn === ' * ') {\n      setOperator(true);\n      setValue(value + valueBtn);\n      return;\n    }\n    if (valueBtn === ' / ') {\n      setOperator(true);\n      setValue(value + valueBtn);\n      return;\n    }\n    // ? сброс значений\n    if (valueBtn === 'AC') {\n      setValue(0);\n      setResult(0);\n      return;\n    }\n    if (valueBtn === '=') {\n      setValue(result);\n      return;\n    }\n    // TODO удаление последнего елемента\n    if (valueBtn === 'delete') {\n      if (value.length > 1) {\n        setValue(value.trim().slice(0, -1).trim());\n        return;\n      }\n      setValue(0);\n      return;\n    }\n    // TODO добавлениеб удаление и чтение с памяти\n    if (valueBtn === 'M+') {\n      setMemory(result);\n      return;\n    }\n    if (valueBtn === 'M-') {\n      setMemory(0);\n      return;\n    }\n    if (valueBtn === 'MR') {\n      setOperator(false);\n      if (value === 0) {\n        setValue(memory);\n        return;\n      }\n      setValue(value + memory);\n      return;\n    }\n    // TODO добавление точки\n    if (valueBtn === '.') {\n      if (lastNum.includes('.')) {\n        return;\n      } // * если в последнем числе уже есть точка - вторую не ставим\n      setValue(value + valueBtn.toString());\n      return;\n    }\n    console.log('нераспознанный оператор');\n    return;\n  };\n\n  const changeValue = e => {\n    setValue(e.currentTarget.value);\n  };\n  return (\n    <div className={style.container}>\n      <Display value={value} result={result} onChangeValue={changeValue} />\n      <Panel onClick={onClick} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\nimport App from './App.jsx';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}